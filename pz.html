<html>
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="320" name="MobileOptimized">
    <title>盼之温馨提示</title>
    <style>
        /* 确保页面占满整个窗口 */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
        }
        
        .content {
            height: 100%;
            width: 100%;
            position: fixed;
            left: -2px;
            top: -2px;
        }
        
        /* 美化后的非浏览器提示样式 - 增强居中效果 */
        .non-browser-tip {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #f5f7fa;
            display: flex;
            flex-direction: column;
            justify-content: center; /* 垂直居中 */
            align-items: center;     /* 水平居中 */
            z-index: 9999;
            text-align: center;
            padding: 20px;
            box-sizing: border-box; /* 确保padding不影响整体尺寸 */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        
        .browser-image {
            width: 100px;
            height: 100px;
            margin-bottom: 30px;
            object-fit: contain; /* 保持图片比例 */
            animation: float 3s ease-in-out infinite;
            border-radius: 20px; /* 圆角效果，数值越大圆角越明显 */
            /* 添加轻微阴影增强立体感 */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .non-browser-tip h3 {
            font-size: 22px;
            color: #2d3748;
            margin: 0 0 15px 0;
            font-weight: 600;
        }
        
        .non-browser-tip p {
            font-size: 16px;
            color: #4a5568;
            max-width: 300px;
            line-height: 1.6;
            margin: 0;
        }
        
        /* 动画效果 */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
    </style>
<style type="text/css" id="__via_marker__"></style></head>
<body>
    <script>
        // 禁止右键菜单
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });

        // 禁止Ctrl+U、Ctrl+Shift+I等常用查看源码快捷键
        document.addEventListener('keydown', function(e) {
            // Ctrl+U (查看源码)
            if (e.ctrlKey && e.key === 'u') {
                e.preventDefault();
                return false;
            }
            // Ctrl+Shift+I (开发者工具)
            if (e.ctrlKey && e.shiftKey && e.key === 'i') {
                e.preventDefault();
                return false;
            }
            // F12 (开发者工具)
            if (e.key === 'F12') {
                e.preventDefault();
                return false;
            }
            // Ctrl+Shift+C (检查元素)
            if (e.ctrlKey && e.shiftKey && e.key === 'c') {
                e.preventDefault();
                return false;
            }
        });

        // 检测是否在浏览器环境中打开
        function isBrowserEnvironment() {
            const userAgent = navigator.userAgent.toLowerCase();
            const nonBrowserEnvironments = [
                'micromessenger', // 微信
                'alipay',         // 支付宝
                'qqbrowser',      // QQ浏览器
                'miniprogram',    // 小程序环境
                'weibo',          // 微博
                'baidu',          // 百度APP
                'ucbrowser'       // UC浏览器
            ];
            
            for (const env of nonBrowserEnvironments) {
                if (userAgent.includes(env)) {
                    return false;
                }
            }
            
            return typeof window !== 'undefined' && 
                   typeof document !== 'undefined' && 
                   typeof navigator !== 'undefined';
        }

        // 只有在浏览器环境中才执行嵌入页面逻辑
        if (isBrowserEnvironment()) {
            var urlParams = new URLSearchParams(window.location.search); 
            var encodedParam = urlParams.get('hy'); 
            var tureurl = atob(encodedParam); 
            
            if (tureurl.includes("http")) {
                var urlObj = new URL(tureurl); 
                var domain = urlObj.hostname; 
                var allowedDomains = ["minilanjia.cn","heiye.pro","13l4.cn","731l.com","heiye.us","heiy.art","tyreo.cn","heiyenb.cn"]; 
                var isAllowed = allowedDomains.some(allowedDomain => 
                    domain === allowedDomain || domain.endsWith("." + allowedDomain)
                ); 
                
                if (isAllowed) { 
                    var html = '<iframe class="content" οnlοad="bindMouseWhee(this)" src=' + tureurl + '></iframe>'; 
                    document.writeln(html); 
                    console.log(tureurl); 
                } else { 
                    alert("请联系黑夜加白@hxzc_heiye"); 
                }
            } else { 
                console.log("nourls"); 
            }
        } else {
            // 非浏览器环境显示美化后的提示（使用图片）
            document.writeln(`
                <div class="non-browser-tip">
                    <!-- 替换为你的浏览器图标图片URL -->
                    <img src="http://hytc.hy.minilanjia.cn/uploads/aa687c378d82348d.png" alt="浏览器图标" class="browser-image">
                    <h3>建议使用浏览器打开</h3>
                    <p>为了获得更完善的功能体验，请在浏览器中打开此页面</p>
                </div>
            `);
        }
    </script>
    <script>
        var firefox = navigator.userAgent.indexOf('Firefox') != -1; 
        function MouseWheel(e, doc) { 
            e.preventDefault && e.preventDefault(), e.returnValue = false; 
            var up = firefox && e.detail < 0 || e.wheelDelta > 0; 
            doc.body.scrollTop = doc.documentElement.scrollTop += up ? -50 : 50; 
        }
        function bindMouseWhee(ifr) {
            try { 
                var doc = ifr.contentWindow.document; 
                firefox ? doc.addEventListener('DOMMouseScroll', function (e) { 
                    MouseWheel(e, doc) 
                }, false) : (doc.onmousewheel = function (e) { 
                    MouseWheel(e || ifr.contentWindow.event, doc) 
                }); 
            } catch (e) { 
                alert('Error' + e); 
            }
        }
    </script>
</body>
</html>